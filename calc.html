<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analýza úvěru ČSOB</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Crimson+Pro:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #0A3D62;
            --accent: #E74C3C;
            --success: #27AE60;
            --background: #F8F9FA;
            --surface: #FFFFFF;
            --text: #2C3E50;
            --text-muted: #7F8C8D;
            --border: #E1E8ED;
            --shadow: rgba(10, 61, 98, 0.08);
        }

        body {
            font-family: 'Crimson Pro', serif;
            background: linear-gradient(135deg, #F8F9FA 0%, #E8EEF2 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 40px 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: -50%;
            right: -20%;
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(231, 76, 60, 0.05) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 0.8s ease-out;
        }

        h1 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 12px;
            letter-spacing: -2px;
            text-transform: uppercase;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--text-muted);
            font-weight: 300;
        }

        .controls {
            background: var(--surface);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 10px 40px var(--shadow);
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .loan-info {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, rgba(10, 61, 98, 0.05) 0%, rgba(231, 76, 60, 0.05) 100%);
            border-radius: 12px;
        }

        .loan-info h3 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-muted);
            margin-bottom: 10px;
        }

        .loan-info .loan-details {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .loan-info .loan-details .amount {
            color: var(--accent);
        }

        .custom-loan {
            background: linear-gradient(135deg, #F8F9FA 0%, #FFFFFF 100%);
            border-radius: 16px;
            padding: 35px;
            border: 2px dashed var(--border);
        }

        .custom-loan h3 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            margin-bottom: 30px;
            text-align: center;
        }

        .slider-group {
            margin-bottom: 30px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .slider-label span {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
        }

        .slider-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 10px;
            background: linear-gradient(to right, var(--accent) 0%, var(--accent) 50%, var(--border) 50%, var(--border) 100%);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 16px rgba(231, 76, 60, 0.5);
        }

        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(231, 76, 60, 0.3);
            transition: all 0.3s ease;
        }

        input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 16px rgba(231, 76, 60, 0.5);
        }

        .table-container {
            background: var(--surface);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px var(--shadow);
            animation: fadeInUp 0.8s ease-out 0.4s both;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        thead {
            background: linear-gradient(135deg, var(--primary) 0%, #0C5280 100%);
        }

        thead th {
            font-family: 'JetBrains Mono', monospace;
            padding: 20px;
            text-align: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        thead th:first-child {
            border-top-left-radius: 12px;
        }

        thead th:last-child {
            border-top-right-radius: 12px;
        }

        tbody tr {
            transition: all 0.3s ease;
        }

        tbody tr:hover {
            background: rgba(10, 61, 98, 0.03);
        }

        tbody td {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid var(--border);
            font-size: 1.1rem;
        }

        tbody td:first-child {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
            text-align: left;
        }

        tbody tr:last-child td {
            border-bottom: none;
        }

        .amount-cell {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            color: var(--text);
        }

        .amount-cell.zero {
            color: var(--text-muted);
            font-style: italic;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .controls, .table-container {
                padding: 24px;
            }

            table {
                font-size: 0.9rem;
            }

            thead th, tbody td {
                padding: 12px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Analýza úvěru</h1>
            <div class="subtitle">ČSOB – Porovnání splátek</div>
        </header>

        <div class="controls">
            <div class="loan-info">
                <h3>Vaše varianta úvěru</h3>
                <div class="loan-details">
                    <span class="amount" id="loanSummary">250 mil. Kč</span> / <span id="durationSummary">15 let</span>
                </div>
            </div>

            <div class="custom-loan">
                <h3>Nastavení</h3>
                <div class="slider-group">
                    <div class="slider-label">
                        <span>Výše úvěru</span>
                        <span class="slider-value" id="amountValue">250 mil. Kč</span>
                    </div>
                    <input type="range" id="amountSlider" min="50" max="500" value="250" step="10">
                </div>
                <div class="slider-group">
                    <div class="slider-label">
                        <span>Délka úvěru</span>
                        <span class="slider-value" id="yearsValue">15 let</span>
                    </div>
                    <input type="range" id="yearsSlider" min="5" max="30" value="15" step="1">
                </div>
            </div>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Rok</th>
                        <th>Roční splátka úvěru</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        const loanData = {"years": [2026, 2027, 2028, 2029, 2030, 2031, 2032, 2033, 2034, 2035, 2036, 2037, 2038, 2039, 2040, 2041, 2042, 2043, 2044, 2045, 2046], "data": {"100_20": [7.179338888888889, 9.336144444444445, 9.117011111111111, 8.87381111111111, 8.642644444444445, 8.411477777777778, 8.18981111111111, 7.949144444444444, 7.717977777777778, 7.486811111111111, 7.262611111111111, 7.024477777777778, 7.377596527777778, 7.117534027777777, 6.861733333333333, 6.597409027777778, 6.337346527777778, 6.077284027777778, 5.818633333333334, 5.560469027777778, 5.304471527777778], "100_15": [8.357528472222223, 11.03120902777778, 10.72495277777778, 10.39550069444445, 10.07764652777778, 9.759792361111112, 9.450052777777778, 9.124084027777778, 8.806229861111111, 8.488375694444445, 8.175152777777777, 7.852667361111111, 7.534813194444444, 7.216959027777778, 7.49176875, 2.6154375, 0, 0, 0, 0, 0], "100_10": [10.32117777777778, 13.85631666666667, 13.40485555555556, 12.93165, 12.46931666666667, 12.00698333333333, 11.55045555555556, 12.2508875, 11.7307625, 11.2106375, 3.6216125, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "200_20": [14.35867777777778, 18.67228888888889, 18.23402222222222, 17.74762222222222, 17.28528888888889, 16.82295555555556, 16.37962222222222, 15.89828888888889, 15.43595555555556, 14.97362222222222, 14.52522222222222, 14.04895555555556, 14.75519305555556, 14.23506805555555, 13.72346666666667, 13.19481805555556, 12.67469305555556, 12.15456805555556, 11.63726666666667, 11.12093805555556, 10.60894305555555], "200_15": [16.71505694444445, 22.06241805555555, 21.44990555555556, 20.79100138888889, 20.15529305555556, 19.51958472222222, 18.90010555555556, 18.24816805555556, 17.61245972222222, 16.97675138888889, 16.35030555555555, 15.70533472222222, 15.06962638888889, 14.43391805555556, 14.9835375, 5.230875, 0, 0, 0, 0, 0], "200_10": [20.64235555555555, 27.71263333333333, 26.80971111111111, 25.8633, 24.93863333333333, 24.01396666666667, 23.10091111111111, 24.501775, 23.461525, 22.421275, 7.243225000000001, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "300_20": [21.53801666666667, 28.00843333333333, 27.35103333333333, 26.62143333333334, 25.92793333333334, 25.23443333333334, 24.56943333333333, 23.84743333333333, 23.15393333333333, 22.46043333333333, 21.78783333333333, 21.07343333333333, 22.13278958333333, 21.35260208333333, 20.5852, 19.79222708333333, 19.01203958333333, 18.23185208333334, 17.4559, 16.68140708333333, 15.91341458333333], "300_15": [25.07258541666667, 33.09362708333333, 32.17485833333333, 31.18650208333333, 30.23293958333333, 29.27937708333333, 28.35015833333333, 27.37225208333333, 26.41868958333333, 25.46512708333333, 24.52545833333333, 23.55800208333333, 22.60443958333333, 21.65087708333333, 22.47530625, 7.8463125, 0, 0, 0, 0, 0], "300_10": [30.96353333333333, 41.56894999999999, 40.21456666666666, 38.79495, 37.40795, 36.02095, 34.65136666666667, 36.7526625, 35.1922875, 33.6319125, 10.8648375, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}};

        let customAmount = 250;
        let customYears = 15;

        function calculateCustomPayment(year) {
            const yearIndex = loanData.years.indexOf(year);
            if (yearIndex === -1) return 0;

            const amounts = [100, 200, 300];
            const durations = [10, 15, 20];

            let amountIdx = 0;
            if (customAmount >= 300) amountIdx = 2;
            else if (customAmount >= 200) amountIdx = 1;

            let durationIdx = 0;
            if (customYears >= 20) durationIdx = 2;
            else if (customYears >= 15) durationIdx = 1;

            const baseAmount = amounts[amountIdx];
            const baseDuration = durations[durationIdx];

            const key = baseAmount + '_' + baseDuration;
            const basePayment = loanData.data[key][yearIndex];

            const amountRatio = customAmount / baseAmount;
            const durationRatio = baseDuration / customYears;

            const payment = basePayment * amountRatio * durationRatio;

            const startYear = 2026;
            const endYear = startYear + customYears;
            if (year >= endYear) {
                return 0;
            }

            return payment;
        }

        function formatCurrency(value) {
            if (value === 0 || isNaN(value)) {
                return 'Splaceno';
            }
            return value.toFixed(2) + ' mil. Kč';
        }

        function updateTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            loanData.years.forEach(function(year) {
                const row = document.createElement('tr');
                
                const yearCell = document.createElement('td');
                yearCell.textContent = year;
                row.appendChild(yearCell);

                const paymentCell = document.createElement('td');
                const payment = calculateCustomPayment(year);
                paymentCell.className = payment === 0 ? 'amount-cell zero' : 'amount-cell';
                paymentCell.textContent = formatCurrency(payment);
                row.appendChild(paymentCell);

                tbody.appendChild(row);
            });
        }

        function updateLoanSummary() {
            document.getElementById('loanSummary').textContent = customAmount + ' mil. Kč';
            document.getElementById('durationSummary').textContent = customYears + ' let';
        }

        const amountSlider = document.getElementById('amountSlider');
        const amountValue = document.getElementById('amountValue');
        const yearsSlider = document.getElementById('yearsSlider');
        const yearsValue = document.getElementById('yearsValue');

        function updateSliderBackground(slider) {
            const percentage = ((slider.value - slider.min) / (slider.max - slider.min)) * 100;
            slider.style.background = 'linear-gradient(to right, var(--accent) 0%, var(--accent) ' + percentage + '%, var(--border) ' + percentage + '%, var(--border) 100%)';
        }

        amountSlider.oninput = function() {
            customAmount = parseInt(this.value);
            amountValue.textContent = customAmount + ' mil. Kč';
            updateSliderBackground(this);
            updateLoanSummary();
            updateTable();
        };

        yearsSlider.oninput = function() {
            customYears = parseInt(this.value);
            yearsValue.textContent = customYears + ' let';
            updateSliderBackground(this);
            updateLoanSummary();
            updateTable();
        };

        updateSliderBackground(amountSlider);
        updateSliderBackground(yearsSlider);
        updateLoanSummary();
        updateTable();
    </script>
</body>
</html>
